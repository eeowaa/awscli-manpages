.\" Man page generated from reStructuredText.
.
.TH "KMS-VERIFY" "a" "" ""
.SH NAME
kms-verify \- Verifies a digital signature that was generated by the  Sign operation
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH DESCRIPTION
.sp
Verifies a digital signature that was generated by the  Sign operation.
.sp
Verification confirms that an authorized user signed the message with the specified CMK and signing algorithm, and the message hasn\(aqt changed since it was signed. If the signature is verified, the value of the \fBSignatureValid\fP field in the response is \fBTrue\fP . If the signature verification fails, the \fBVerify\fP operation fails with an \fBKMSInvalidSignatureException\fP exception.
.sp
A digital signature is generated by using the private key in an asymmetric CMK. The signature is verified by using the public key in the same asymmetric CMK. For information about symmetric and asymmetric CMKs, see \fI\%Using Symmetric and Asymmetric CMKs\fP in the \fIAWS Key Management Service Developer Guide\fP .
.sp
To verify a digital signature, you can use the \fBVerify\fP operation. Specify the same asymmetric CMK, message, and signing algorithm that were used to produce the signature.
.sp
You can also verify the digital signature by using the public key of the CMK outside of AWS KMS. Use the  GetPublicKey operation to download the public key in the asymmetric CMK and then use the public key to verify the signature outside of AWS KMS. The advantage of using the \fBVerify\fP operation is that it is performed within AWS KMS. As a result, it\(aqs easy to call, the operation is performed within the FIPS boundary, it is logged in AWS CloudTrail, and you can use key policy and IAM policy to determine who is authorized to use the CMK to verify signatures.
.sp
The CMK that you use for this operation must be in a compatible key state. For details, see \fI\%How Key State Affects Use of a Customer Master Key\fP in the \fIAWS Key Management Service Developer Guide\fP .
.INDENT 0.0
.INDENT 3.5
\fBCross\-account use\fP : Yes. To perform this operation with a CMK in a different AWS account, specify the key ARN or alias ARN in the value of the \fBKeyId\fP parameter.
.sp
\fBRequired permissions\fP : \fI\%kms:Verify\fP (key policy)
.sp
\fBRelated operations\fP :  Sign
.UNINDENT
.UNINDENT
.sp
See also: AWS API Documentation
.sp
See \(aqaws help\(aq for descriptions of global parameters.
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
  verify
\-\-key\-id <value>
\-\-message <value>
[\-\-message\-type <value>]
\-\-signature <value>
\-\-signing\-algorithm <value>
[\-\-grant\-tokens <value>]
[\-\-cli\-input\-json | \-\-cli\-input\-yaml]
[\-\-generate\-cli\-skeleton <value>]
.ft P
.fi
.UNINDENT
.UNINDENT
.SH OPTIONS
.sp
\fB\-\-key\-id\fP (string)
.INDENT 0.0
.INDENT 3.5
Identifies the asymmetric CMK that will be used to verify the signature. This must be the same CMK that was used to generate the signature. If you specify a different CMK, the signature verification fails.
.sp
To specify a CMK, use its key ID, Amazon Resource Name (ARN), alias name, or alias ARN. When using an alias name, prefix it with \fB"alias/"\fP . To specify a CMK in a different AWS account, you must use the key ARN or alias ARN.
.sp
For example:
.INDENT 0.0
.IP \(bu 2
Key ID: \fB1234abcd\-12ab\-34cd\-56ef\-1234567890ab\fP
.IP \(bu 2
Key ARN: \fBarn:aws:kms:us\-east\-2:111122223333:key/1234abcd\-12ab\-34cd\-56ef\-1234567890ab\fP
.IP \(bu 2
Alias name: \fBalias/ExampleAlias\fP
.IP \(bu 2
Alias ARN: \fBarn:aws:kms:us\-east\-2:111122223333:alias/ExampleAlias\fP
.UNINDENT
.sp
To get the key ID and key ARN for a CMK, use  ListKeys or  DescribeKey . To get the alias name and alias ARN, use  ListAliases .
.UNINDENT
.UNINDENT
.sp
\fB\-\-message\fP (blob)
.INDENT 0.0
.INDENT 3.5
Specifies the message that was signed. You can submit a raw message of up to 4096 bytes, or a hash digest of the message. If you submit a digest, use the \fBMessageType\fP parameter with a value of \fBDIGEST\fP .
.sp
If the message specified here is different from the message that was signed, the signature verification fails. A message and its hash digest are considered to be the same message.
.UNINDENT
.UNINDENT
.sp
\fB\-\-message\-type\fP (string)
.INDENT 0.0
.INDENT 3.5
Tells AWS KMS whether the value of the \fBMessage\fP parameter is a message or message digest. The default value, RAW, indicates a message. To indicate a message digest, enter \fBDIGEST\fP .
.sp
\fBWARNING:\fP
.INDENT 0.0
.INDENT 3.5
Use the \fBDIGEST\fP value only when the value of the \fBMessage\fP parameter is a message digest. If you use the \fBDIGEST\fP value with a raw message, the security of the verification operation can be compromised.
.UNINDENT
.UNINDENT
.sp
Possible values:
.INDENT 0.0
.IP \(bu 2
\fBRAW\fP
.IP \(bu 2
\fBDIGEST\fP
.UNINDENT
.UNINDENT
.UNINDENT
.sp
\fB\-\-signature\fP (blob)
.INDENT 0.0
.INDENT 3.5
The signature that the \fBSign\fP operation generated.
.UNINDENT
.UNINDENT
.sp
\fB\-\-signing\-algorithm\fP (string)
.INDENT 0.0
.INDENT 3.5
The signing algorithm that was used to sign the message. If you submit a different algorithm, the signature verification fails.
.sp
Possible values:
.INDENT 0.0
.IP \(bu 2
\fBRSASSA_PSS_SHA_256\fP
.IP \(bu 2
\fBRSASSA_PSS_SHA_384\fP
.IP \(bu 2
\fBRSASSA_PSS_SHA_512\fP
.IP \(bu 2
\fBRSASSA_PKCS1_V1_5_SHA_256\fP
.IP \(bu 2
\fBRSASSA_PKCS1_V1_5_SHA_384\fP
.IP \(bu 2
\fBRSASSA_PKCS1_V1_5_SHA_512\fP
.IP \(bu 2
\fBECDSA_SHA_256\fP
.IP \(bu 2
\fBECDSA_SHA_384\fP
.IP \(bu 2
\fBECDSA_SHA_512\fP
.UNINDENT
.UNINDENT
.UNINDENT
.sp
\fB\-\-grant\-tokens\fP (list)
.INDENT 0.0
.INDENT 3.5
A list of grant tokens.
.sp
For more information, see \fI\%Grant Tokens\fP in the \fIAWS Key Management Service Developer Guide\fP .
.sp
(string)
.UNINDENT
.UNINDENT
.sp
Syntax:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
"string" "string" ...
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fB\-\-cli\-input\-json\fP | \fB\-\-cli\-input\-yaml\fP (string)
Reads arguments from the JSON string provided. The JSON string follows the format provided by \fB\-\-generate\-cli\-skeleton\fP\&. If other arguments are provided on the command line, those values will override the JSON\-provided values. It is not possible to pass arbitrary binary values using a JSON\-provided value as the string will be taken literally. This may not be specified along with \fB\-\-cli\-input\-yaml\fP\&.
.sp
\fB\-\-generate\-cli\-skeleton\fP (string)
Prints a JSON skeleton to standard output without sending an API request. If provided with no value or the value \fBinput\fP, prints a sample input JSON that can be used as an argument for \fB\-\-cli\-input\-json\fP\&. Similarly, if provided \fByaml\-input\fP it will print a sample input YAML that can be used with \fB\-\-cli\-input\-yaml\fP\&. If provided with the value \fBoutput\fP, it validates the command inputs and returns a sample output JSON for that command.
.sp
See \(aqaws help\(aq for descriptions of global parameters.
.SH EXAMPLES
.sp
\fBTo verify a digital signature\fP
.sp
The following \fBverify\fP example verifies a cryptographic signature for a short message. The key ID, message, message type, and signing algorithm must be same ones that were used to sign the message. The signature that you specify cannot be base64\-encoded. For help decoding the signature that the \fBsign\fP command returns, see the \fBsign\fP command examples.
.sp
The output of the command includes a Boolean \fBSignatureValid\fP field that indicates that the signature was verified. If the signature validation fails, the \fBverify\fP command fails, too.
.sp
Before running this command, replace the example key ID with a valid key ID from your AWS account.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
aws kms verify \e
    \-\-key\-id 1234abcd\-12ab\-34cd\-56ef\-1234567890ab \e
    \-\-message fileb://originalString \e
    \-\-message\-type RAW \e
    \-\-signing\-algorithm RSASSA_PKCS1_V1_5_SHA_256 \e
    \-\-signature fileb://ExampleSignature
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Output:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
{
    "KeyId": "arn:aws:kms:us\-west\-2:111122223333:key/1234abcd\-12ab\-34cd\-56ef\-1234567890ab",
    "SignatureValid": true,
    "SigningAlgorithm": "RSASSA_PKCS1_V1_5_SHA_256"
}
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
For more information about using asymmetric CMKs in AWS KMS, see \fI\%Using Symmetric and Asymmetric Keys\fP in the \fIAWS Key Management Service API Reference\fP\&.
.SH OUTPUT
.sp
KeyId \-> (string)
.INDENT 0.0
.INDENT 3.5
The Amazon Resource Name (\fI\%key ARN\fP ) of the asymmetric CMK that was used to verify the signature.
.UNINDENT
.UNINDENT
.sp
SignatureValid \-> (boolean)
.INDENT 0.0
.INDENT 3.5
A Boolean value that indicates whether the signature was verified. A value of \fBTrue\fP indicates that the \fBSignature\fP was produced by signing the \fBMessage\fP with the specified \fBKeyID\fP and \fBSigningAlgorithm.\fP If the signature is not verified, the \fBVerify\fP operation fails with a \fBKMSInvalidSignatureException\fP exception.
.UNINDENT
.UNINDENT
.sp
SigningAlgorithm \-> (string)
.INDENT 0.0
.INDENT 3.5
The signing algorithm that was used to verify the signature.
.UNINDENT
.UNINDENT
.\" Generated by docutils manpage writer.
.
