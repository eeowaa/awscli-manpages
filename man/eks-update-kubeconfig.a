.\" Man page generated from reStructuredText.
.
.TH "EKS-UPDATE-KUBECONFIG" "a" "" ""
.SH NAME
eks-update-kubeconfig \- Configures kubectl so that you can connect to an Amazon EKS cluster
.SH DESCRIPTION
.sp
Configures kubectl so that you can connect to an Amazon EKS cluster.
.INDENT 0.0
.TP
.B Note:
To use the resulting configuration, you must have kubectl installed and in your PATH environment variable.
.UNINDENT
.sp
This command constructs a configuration with prepopulated server and certificate authority data values for a specified cluster.
You can specify an IAM role ARN with the \-\-role\-arn option to use for authentication when you issue kubectl commands.
Otherwise, the IAM entity in your default AWS CLI or SDK credential chain is used.
You can view your default AWS CLI or SDK identity by running the \fBaws sts get\-caller\-identity\fP command.
.sp
The resulting kubeconfig is created as a new file or merged with an existing kubeconfig file using the following logic:
.INDENT 0.0
.IP \(bu 2
If you specify a path with the \-\-kubeconfig option, then the resulting configuration file is created there or merged with an existing kubeconfig at that location.
.IP \(bu 2
Or, if you have the KUBECONFIG environment variable set, then the resulting configuration file is created at the first entry in that variable or merged with an existing kubeconfig at that location.
.IP \(bu 2
Otherwise, by default, the resulting configuration file is created at the default kubeconfig path (.kube/config) in your home directory or merged with an existing kubeconfig at that location.
.IP \(bu 2
If a previous cluster configuration exists for an Amazon EKS cluster with the same name at the specified path, the existing configuration is overwritten with the new configuration.
.IP \(bu 2
When update\-kubeconfig writes a configuration to a kubeconfig file, the current\-context of the kubeconfig file is set to that configuration.
.UNINDENT
.sp
You can use the \-\-dry\-run option to print the resulting configuration to stdout instead of writing it to the specified location.
.sp
See \(aqaws help\(aq for descriptions of global parameters.
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
  update\-kubeconfig
\-\-name <value>
[\-\-kubeconfig <value>]
[\-\-role\-arn <value>]
[\-\-dry\-run]
[\-\-verbose]
[\-\-alias <value>]
.ft P
.fi
.UNINDENT
.UNINDENT
.SH OPTIONS
.sp
\fB\-\-name\fP (string)
The name of the cluster for which to create a kubeconfig entry. This cluster must exist in your account and in the specified or configured default Region for your AWS CLI installation.
.sp
\fB\-\-kubeconfig\fP (string)
Optionally specify a kubeconfig file to append with your configuration. By default, the configuration is written to the first file path in the KUBECONFIG environment variable (if it is set) or the default kubeconfig path (.kube/config) in your home directory.
.sp
\fB\-\-role\-arn\fP (string)
To assume a role for cluster authentication, specify an IAM role ARN with this option. For example, if you created a cluster while assuming an IAM role, then you must also assume that role to connect to the cluster the first time.
.sp
\fB\-\-dry\-run\fP (boolean)
Print the merged kubeconfig to stdout instead of writing it to the specified file.
.sp
\fB\-\-verbose\fP (boolean)
Print more detailed output when writing to the kubeconfig file, including the appended entries.
.sp
\fB\-\-alias\fP (string)
Alias for the cluster context name. Defaults to match cluster ARN.
.sp
See \(aqaws help\(aq for descriptions of global parameters.
.SH EXAMPLES
.sp
\fBTo update a kubeconfig for your cluster\fP
.sp
This example command updates the default kubeconfig file to use your cluster as the current context.
.sp
Command:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
aws eks update\-kubeconfig \-\-name example
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Output:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
Added new context arn:aws:eks:us\-west\-2:012345678910:cluster/example to /Users/ericn/.kube/config
.ft P
.fi
.UNINDENT
.UNINDENT
.\" Generated by docutils manpage writer.
.
